<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Challenge 4</h1>
  </body>
  <script>
    const dogs = [
      { weight: 22, curFood: 250, owners: ['Alice', 'Bob'] },
      { weight: 8, curFood: 200, owners: ['Matilda'] },
      { weight: 13, curFood: 275, owners: ['Sarah', 'John'] },
      { weight: 32, curFood: 340, owners: ['Michael'] },
    ];
    dogs.forEach((dog) => {
      dog.recommendedFood = Math.round(dog.weight ** 0.75 * 28);
    });
    const sarahsDog = dogs.find((dog) => dog.owners.includes('Sarah'));
    console.log(
      `Sarah's dog is eating ${
        sarahsDog.curFood > sarahsDog.recommendedFood ? 'too much' : 'too little'
      }`,
    );
    const dogs_each_to_much = dogs
      .filter((dog) => dog.curFood > dog.recommendedFood)
      .flatMap((dog) => dog.owners);

    const dogs_each_to_little = dogs
      .filter((dog) => dog.curFood < dog.recommendedFood)
      .flatMap((dog) => dog.owners);

    console.log(`${dogs_each_to_much.join(' and ')}'s dogs eat too much!`);

    console.log(`${dogs_each_to_little.join(' and ')}'s dogs eat too little!`);

    const exact_amount = dogs.some((dog) => dog.curFood === dog.recommendedFood);
    console.log(`Is there any dog eating exactly the recommended amount? ${exact_amount}`);

    const okayAmount = dogs.some(
      (dog) => dog.curFood > dog.recommendedFood * 0.9 && dog.curFood < dog.recommendedFood * 1.1,
    );
    console.log(`Is there any dog eating an okay amount? ${okayAmount}`);

    const dogsEatingOkay = dogs.filter(
      (dog) => dog.curFood > dog.recommendedFood * 0.9 && dog.curFood < dog.recommendedFood * 1.1,
    );

    const sortedDogs = [...dogs].sort((a, b) => a.recommendedFood - b.recommendedFood);
    console.log(sortedDogs);
  </script>
</html>
